fixed issues with switching frames