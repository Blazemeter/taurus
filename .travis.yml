sudo: false
language: python

matrix:
  include:
  #- os: linux
  #  python: 2.7
  #- os: linux
  #  python: 3.3
  #- os: linux
  #  python: 3.4
  #- os: linux
  #  python: 3.5
  - os: osx
    language: generic

#addons:
#
#  firefox: "54.0"
#  apt:
#    packages:
#      - oracle-java8-set-default
#      - mono-complete

before_install:
- if [ "$TRAVIS_OS_NAME" == "osx" ]; then true; fi
- if [ "$TRAVIS_OS_NAME" == "linux" ]; then export DISPLAY=:99.0; sh -e /etc/init.d/xvfb start; fi

install: |
  if [ "$TRAVIS_OS_NAME" == "osx" ]; then
    tests/ci/travis/install_osx.sh
  else:
    tests/ci/travis/install_linux.sh
  fi
script: |
  if [ "$TRAVIS_OS_NAME" == "osx" ]; then
    tests/ci/travis/install_osx.sh
  else:
   coverage run  --source=. `which nosetests` tests -v --exclude-dir=tests/resources
  fi
after_success:
#- coverage report -m
#- codecov
- echo "*** Done! ***"
